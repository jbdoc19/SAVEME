<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Financial Accounts Snapshot</title>
  <!-- Inline styles keep the prototype self-contained and highlight the grid layout. -->
  <style>
    :root {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      color: #222;
      background-color: #f7f7f7;
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      padding: 2rem;
    }

    main {
      width: min(960px, 100%);
      background-color: #fff;
      border-radius: 12px;
      box-shadow: 0 20px 45px rgba(15, 23, 42, 0.15);
      padding: 2rem 2.5rem;
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }

    header {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    header h1 {
      margin: 0;
      font-size: 2rem;
    }

    header p {
      margin: 0;
      color: #555;
    }

    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    thead {
      text-align: left;
      font-size: 0.95rem;
      color: #666;
    }

    tbody tr {
      border-top: 1px solid #e5e7eb;
    }

    th,
    td {
      padding: 1rem 0.5rem;
      vertical-align: middle;
    }

    td:last-child {
      text-align: right;
    }

    .institution-name {
      font-weight: 600;
      font-size: 1.05rem;
    }

    .balance-display {
      font-variant-numeric: tabular-nums;
      font-weight: 600;
      color: #0f766e;
    }

    .credentials {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 0.75rem;
      margin-top: 0.75rem;
    }

    label {
      display: block;
      font-size: 0.85rem;
      color: #444;
    }

    input {
      width: 100%;
      margin-top: 0.35rem;
      padding: 0.6rem 0.75rem;
      border: 1px solid #cbd5f5;
      border-radius: 8px;
      font-size: 0.95rem;
      background-color: #fdfdff;
    }

    button.refresh {
      border: none;
      background: linear-gradient(135deg, #2563eb, #4f46e5);
      color: #fff;
      padding: 0.65rem 1.1rem;
      border-radius: 50px;
      font-size: 1rem;
      cursor: pointer;
      transition: transform 0.15s ease, box-shadow 0.15s ease;
    }

    button.refresh:focus-visible {
      outline: 3px solid rgba(37, 99, 235, 0.4);
      outline-offset: 2px;
    }

    button.refresh:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 20px rgba(79, 70, 229, 0.25);
    }

    .status-message {
      font-size: 0.85rem;
      color: #6b7280;
      margin-top: 0.35rem;
    }

    @media (max-width: 640px) {
      th:nth-child(3),
      td:nth-child(3) {
        text-align: left;
      }

      button.refresh {
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <!-- The main landmark wraps the entire accounts overview experience. -->
  <main>
    <!-- Header introduces the page purpose and explains the prototype limitations. -->
    <header>
      <h1>Financial Accounts Snapshot</h1>
      <p>Track your account balances across institutions. This prototype stores credentials locally for testing only.</p>
    </header>

    <!-- Table structure supports future scaling to multiple institutions, each as a row. -->
    <table aria-describedby="accounts-description">
      <caption id="accounts-description" class="sr-only">List of financial institutions with stored credentials and balances.</caption>
      <thead>
        <tr>
          <th scope="col">Institution</th>
          <th scope="col">Current Balance</th>
          <th scope="col">Actions</th>
        </tr>
      </thead>
      <tbody>
        <!-- Each row will represent a single institution. -->
        <tr data-institution="bank-of-america">
          <th scope="row" class="institution-name">Bank of America</th>
          <td>
            <!-- Balance display will update when refreshed. -->
            <div class="balance-display" aria-live="polite" aria-atomic="true" id="boa-balance">$0.00</div>
            <p class="status-message" id="boa-status">Awaiting refresh…</p>
            <!-- Credential storage fields allow the user to save placeholder login information locally. -->
            <fieldset class="credentials">
              <legend class="sr-only">Bank of America credentials</legend>
              <label for="boa-username">Username
                <input type="text" id="boa-username" name="boa-username" autocomplete="off" placeholder="Enter username" />
              </label>
              <label for="boa-password">Password
                <input type="password" id="boa-password" name="boa-password" autocomplete="off" placeholder="Enter password" />
              </label>
            </fieldset>
          </td>
          <td>
            <!-- Refresh button will simulate fetching the latest balance. -->
            <button class="refresh" type="button" aria-label="Refresh Bank of America balance">↻</button>
          </td>
        </tr>
      </tbody>
    </table>
  </main>

  <!-- Inline script stores credential placeholders in localStorage and simulates refresh actions. -->
  <script>
    const STORAGE_KEYS = {
      username: 'boa-username',
      password: 'boa-password',
      balance: 'boa-balance'
    };

    const usernameField = document.getElementById('boa-username');
    const passwordField = document.getElementById('boa-password');
    const balanceDisplay = document.getElementById('boa-balance');
    const statusMessage = document.getElementById('boa-status');
    const refreshButton = document.querySelector('[data-institution="bank-of-america"] .refresh');

    // Helper to save credential placeholders whenever a field changes.
    const persistCredentials = () => {
      localStorage.setItem(STORAGE_KEYS.username, usernameField.value);
      localStorage.setItem(STORAGE_KEYS.password, passwordField.value);
    };

    usernameField.addEventListener('input', persistCredentials);
    passwordField.addEventListener('input', persistCredentials);

    // When the page loads, prefill from localStorage (if the user previously saved values).
    document.addEventListener('DOMContentLoaded', () => {
      usernameField.value = localStorage.getItem(STORAGE_KEYS.username) || '';
      passwordField.value = localStorage.getItem(STORAGE_KEYS.password) || '';
      const storedBalance = localStorage.getItem(STORAGE_KEYS.balance);
      if (storedBalance) {
        balanceDisplay.textContent = storedBalance;
        statusMessage.textContent = 'Last refreshed from storage.';
      }
    });

    // Simulate fetching a new balance by generating a random value.
    const simulateBalanceRefresh = () => {
      statusMessage.textContent = 'Refreshing balance…';
      refreshButton.disabled = true;

      setTimeout(() => {
        const fakeBalance = `$${(Math.random() * 5000 + 1000).toFixed(2)}`;
        balanceDisplay.textContent = fakeBalance;
        statusMessage.textContent = 'Balance updated just now (simulation).';
        localStorage.setItem(STORAGE_KEYS.balance, fakeBalance);
        refreshButton.disabled = false;
      }, 700);
    };

    refreshButton.addEventListener('click', simulateBalanceRefresh);
  </script>
</body>
</html>
